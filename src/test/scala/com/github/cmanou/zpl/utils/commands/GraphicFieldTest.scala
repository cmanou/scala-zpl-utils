package com.github.cmanou.zpl.utils.commands

import com.github.cmanou.zpl.utils.commands.barcodes.{Code39, Code11}
import com.sksamuel.scrimage.Image
import org.scalatest._

class GraphicFieldTest extends FunSuite with BeforeAndAfter with OneInstancePerTest {

  test("to uncompressed zpl is valid") {
    val image = Image.fromStream(getClass.getResourceAsStream("/premonition_rgb.png"))
    val zplImage = GraphicField(image, image.width, image.height, compressed = false)

    assert(zplImage.zpl == "^GFA,639,639,9,0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003FC000000000000001FFF000000000000003FFFC0000000000000FFFFE0000000000001FFFFF0000000000001FFFFF8000000000003FFFFFC000000000FFFFFFFFCFF8000003FFFFFFFFFFFE000003FFFFFFFFFFFF800000FFFFFFFFFFFFC000003FFFFFFFFFFFE000380FFFFFFFFFFFE0003E03FFFFFFFFFFF0007F80FFFFFFFFFFFF007FC03FFFFFFFFFFFC0FFF807FFFFFFFFFFF0FFFE00FFFFFFFFFFF8FFFF801FFFFFFFFFF8FFFFF001FFFFFFFFFCFFFFFE003FFFFFFFFCFFFFFF8001FFFFFFFEFFFFFFF8000FFFFFFE7FFFFFFF80003FFFFE7FFFFFFFFC00001FFE0000000000000000000000000000000000000000000000000000000FFFFFFFFE0000000007FFFFFFF0000007F803FFFFFF800007FFF800FFFFFC0003FFFFF000FFFFC0007FFFFFC000FFFC000FFFFFFF00007FE0007FFFFFFE00007F8007FFFFFFFC00003E003FFFFFFFFC00003801FFFFFFFFF80000000FFFFFFFFFF80000003FFFFFFFFFF0000001FFFFFFFFFFE0000003FFFFFFFFFFC0000003FFFFFFFFFF80000000FFFFFFFFFF000000007FFFC7FFFC000000000FFF01FFF00000000000F0001F000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")
  }

  test("to compressed zpl is valid") {
    val image = Image.fromStream(getClass.getResourceAsStream("/premonition_rgb.png"))
    val zplImage = GraphicField(image, image.width, image.height)

    assert(zplImage.zpl == "^GFA,639,639,9,,::::::::::L03FC,K01IF,K03IFC,K0JFE,J01KF,J01KF8,J03KFC,00NFCFF8,03QFE,03RF8,00RFC,003QFE,380QFE,3E03QF,7F80RF,7FC03QFC,IF807QF,IFE00QF8JF801PF8KF001OFCKFE003NFCLF8001MFEMF8I0LFE7MF8I03JFE7NFCJ01FFE,::0NFE,07MFL07F803LF8J07IF800KFCI03KF,00JFCI07KFC,00IFCI0MF,007FEI07LFE,007F8007MFC,003E003NFC,003801OF8,K0PF8,J03PF,I01PFE,I03PFC,I03PF8,J0PF,J07IFC7IFC,K0IF01IF,L0FI01F,,::::::::::::")
  }
}